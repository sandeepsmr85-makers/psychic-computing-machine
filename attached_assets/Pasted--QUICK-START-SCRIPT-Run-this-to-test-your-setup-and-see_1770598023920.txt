/**

- QUICK START SCRIPT
- Run this to test your setup and see the system in action!
  */

import UniversalWebAutomation from â€œ./complete-automation-systemâ€;

async function quickStart() {
console.log(â€œğŸš€ Universal Web Automation - Quick Start\nâ€);
console.log(â€œThis demo will:â€);
console.log(â€œ1. Navigate to GitHubâ€);
console.log(â€œ2. Teach some basic actionsâ€);
console.log(â€œ3. Execute a combined workflowâ€);
console.log(â€œ4. Generate reusable code\nâ€);

const automation = new UniversalWebAutomation();

try {
// Initialize
console.log(â€œğŸ“¦ Initializing systemâ€¦â€);
await automation.initialize({
env: â€œLOCALâ€, // Change to â€œBROWSERBASEâ€ for production
headless: false, // Set to true to hide browser
debugMode: false,
});

```
// Navigate
console.log("\nğŸŒ Navigating to GitHub...");
await automation.goto("https://github.com");
await new Promise((resolve) => setTimeout(resolve, 2000));

// Session 1: Teach search
console.log("\nğŸ“š SESSION 1: Teaching search actions...");
await automation.teach("click_search", "click the search button at the top");
await automation.teach("type_query", "type {query} in the search box");
await automation.teach("press_enter", "press enter in the search box");

console.log("âœ… Learned 3 actions!");

// Session 2: Execute workflow using cached actions
console.log("\nâš¡ SESSION 2: Executing workflow with cached actions...");
const result = await automation.executeWorkflow([
  { actionName: "click_search" },
  { actionName: "type_query", params: { query: "stagehand" } },
  { actionName: "press_enter" },
]);

console.log("\nğŸ“Š Execution Result:");
console.log(`   Success: ${result.success}`);
console.log(`   Steps executed: ${result.steps.length}`);
console.log(`   Cache hits: ${result.cacheHits}`);
console.log(`   Cache misses: ${result.cacheMisses}`);
console.log(`   Estimated cost: $${result.cost.toFixed(4)}`);
console.log(`   Efficiency: ${((result.cacheHits / (result.cacheHits + result.cacheMisses)) * 100).toFixed(1)}%`);

// Generate code
console.log("\nğŸ’» Generating reusable code...");
const script = await automation.generateCodeFromLastWorkflow("github_search_demo");
console.log(`   âœ… Code saved to: ${script.filename}`);

// Show stats
console.log("\nğŸ“ˆ System Statistics:");
const stats = automation.getStats();
console.log(`   Total cached actions: ${stats.totalCachedActions}`);
console.log(`   Current website: ${stats.currentWebsite}`);

// List cached actions
console.log("\nğŸ“‹ Cached Actions:");
const actions = automation.listCachedActions("github.com");
actions.forEach((action, i) => {
  console.log(`   ${i + 1}. ${action.name}: "${action.instruction}"`);
});

console.log("\nâœ… Demo completed successfully!");
console.log("\nğŸ’¡ What happened:");
console.log("   1. You taught the system 3 actions (cost: ~$0.06)");
console.log("   2. System cached all actions");
console.log("   3. Executed workflow using cache (cost: $0.00!)");
console.log("   4. Generated reusable TypeScript code");
console.log("\nğŸ¯ Next steps:");
console.log("   - Run the generated script: npx tsx " + script.filename);
console.log("   - Check the cache: cat automation-cache/actions.json");
console.log("   - Try the examples: npm run example:incremental");
console.log("   - Read the docs: cat README.md");

await automation.close();
```

} catch (error) {
console.error(â€\nâŒ Error:â€, error);
console.log(â€\nğŸ”§ Troubleshooting:â€);
console.log(â€   1. Make sure you have .env file with API keysâ€);
console.log(â€   2. Check that all dependencies are installedâ€);
console.log(â€   3. Try running: npm installâ€);
console.log(â€   4. For Browserbase: set BROWSERBASE_API_KEY and PROJECT_IDâ€);

```
await automation.close();
process.exit(1);
```

}
}

// Run
quickStart().catch((error) => {
console.error(â€œFatal error:â€, error);
process.exit(1);
});